<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apply for Senior Python Developer</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        :root, body[data-theme='ocean'] {
            --primary-color: #0891B2;
            --primary-hover-color: #06B6D4;
            --text-color-dark: #1E293B;
            --text-color-medium: #64748B;
            --text-color-light: #94A3B8;
            --background-color: #F8FAFC;
            --card-background: #FFFFFF;
            --border-color: #E2E8F0;
            --success-color: #10B981;
        }

        body[data-theme='dark'] {
            --primary-color: #22D3EE;
            --primary-hover-color: #67E8F9;
            --text-color-dark: #F8FAFC;
            --text-color-medium: #94A3B8;
            --text-color-light: #64748B;
            --background-color: #0F172A;
            --card-background: #1E293B;
            --border-color: #334155;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html, body {
            height: 100%;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--background-color);
            color: var(--text-color-dark);
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            line-height: 1.6;
        }

        .page-container {
            display: flex;
            flex-direction: column;
            flex-grow: 1;
            width: 100%;
            max-width: 600px;
            margin: 0 auto;
            padding: 24px;
        }
        
        /* --- Header & Footer --- */
        .app-header, .app-footer {
            flex-shrink: 0;
            padding: 20px 24px;
            background-color: var(--card-background);
            border-color: var(--border-color);
        }
        .app-header {
            border-bottom: 1px solid var(--border-color);
        }
        .logo {
            font-weight: 700;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--primary-color);
        }
        .app-footer {
            border-top: 1px solid var(--border-color);
            text-align: center;
            font-size: 0.875rem;
            color: var(--text-color-light);
        }
        .app-footer a {
            color: var(--text-color-medium);
            text-decoration: none;
            margin: 0 8px;
        }
        .app-footer a:hover {
            color: var(--primary-color);
        }

        /* --- Page Sections --- */
        .page {
            display: none;
            flex-direction: column;
            width: 100%;
        }
        .page.active {
            display: flex;
        }
        
        .page-title {
            font-size: 1.75rem;
            font-weight: 700;
            margin-bottom: 24px;
            text-align: center;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            font-weight: 500;
            margin-bottom: 8px;
            color: var(--text-color-dark);
        }

        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            font-size: 1rem;
            background-color: var(--card-background);
            color: var(--text-color-dark);
        }

        .form-group input:focus, .form-group select:focus, .form-group textarea:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(8, 145, 178, 0.1);
        }

        .password-group {
            position: relative;
        }

        .password-toggle {
            position: absolute;
            top: 50%;
            right: 12px;
            transform: translateY(-50%);
            background: none;
            border: none;
            cursor: pointer;
            color: var(--text-color-light);
        }

        .action-buttons {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 32px;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 12px 20px;
            border: 1px solid transparent;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }
        .btn-primary:hover {
            background-color: var(--primary-hover-color);
        }
        .btn-back {
            background: none;
            border: none;
            color: var(--text-color-medium);
            font-weight: 500;
            cursor: pointer;
        }
        .btn-back:hover {
            color: var(--primary-color);
        }

        /* Progress Indicator */
        .progress-indicator {
            margin-bottom: 32px;
        }
        .progress-text {
            text-align: center;
            color: var(--text-color-medium);
            margin-bottom: 8px;
            font-weight: 500;
        }
        .progress-bar {
            width: 100%;
            height: 8px;
            background-color: var(--border-color);
            border-radius: 4px;
            overflow: hidden;
        }
        .progress-bar-inner {
            height: 100%;
            width: 25%; /* Initial width */
            background-color: var(--primary-color);
            transition: width 0.3s ease-in-out;
        }

        /* Resume Upload Area */
        .resume-upload-area {
            border: 2px dashed var(--border-color);
            border-radius: 8px;
            padding: 40px 20px;
            text-align: center;
            background-color: var(--card-background);
            color: var(--text-color-medium);
            cursor: pointer;
            transition: border-color 0.2s, background-color 0.2s;
        }
        .resume-upload-area:hover, .resume-upload-area.dragover {
            border-color: var(--primary-color);
            background-color: rgba(8, 145, 178, 0.05);
        }
        .resume-upload-area .browse-link {
            color: var(--primary-color);
            font-weight: 500;
            text-decoration: underline;
        }
        #resume-file-name {
            margin-top: 12px;
            font-style: italic;
        }

        /* Review Section */
        .review-summary {
            width: 100%;
            margin-top: 24px;
        }
        .review-sub-section {
            margin-bottom: 24px;
        }
        .review-sub-section h3 {
            font-size: 1.25rem;
            margin-bottom: 16px;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 8px;
            color: var(--text-color-dark);
        }
        .review-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
        }
        .review-item .label {
            color: var(--text-color-medium);
        }
        .review-item .value {
            font-weight: 500;
            text-align: right;
        }
        .value-group {
            display: flex;
            align-items: center;
            gap: 16px;
        }
        .edit-link {
            font-size: 0.875rem;
            font-weight: 500;
            color: var(--primary-color);
            text-decoration: none;
        }
        .edit-link:hover {
            text-decoration: underline;
        }

        /* Conditional Fields */
        .conditional-fields {
            display: none;
            padding-left: 16px;
            border-left: 2px solid var(--border-color);
            margin-top: 20px;
        }

        /* --- Theme Switcher --- */
        .theme-switcher { position: relative; }
        #theme-btn { background: none; border: none; cursor: pointer; color: var(--text-color-medium); padding: 4px;}
        #theme-dropdown { position: absolute; top: 140%; right: 0; background-color: var(--card-background); border: 1px solid var(--border-color); border-radius: 8px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); padding: 8px; display: none; width: 150px; z-index: 1001; }
        #theme-dropdown.show { display: block; }
        .theme-option { display: flex; align-items: center; gap: 8px; padding: 8px; border-radius: 6px; cursor: pointer; }
        .theme-option:hover { background-color: var(--background-color); }
        .theme-swatch { width: 16px; height: 16px; border-radius: 50%; border: 1px solid var(--border-color); }

        /* --- Modal --- */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
        }
        .modal-content {
            background-color: var(--card-background);
            padding: 32px;
            border-radius: 12px;
            box-shadow: 0 10px 25px -5px rgba(0,0,0,0.1);
            width: 90%;
            max-width: 450px;
            text-align: center;
        }
        .modal-title {
            font-size: 1.5rem;
            margin-bottom: 16px;
        }
        .modal-content p {
            color: var(--text-color-medium);
            margin-bottom: 24px;
        }
        .modal-actions {
            display: flex;
            gap: 16px;
            justify-content: center;
        }
        .modal-actions .btn-secondary {
             background-color: var(--card-background);
            color: var(--text-color-medium);
            border-color: var(--border-color);
        }
         .modal-actions .btn-secondary:hover {
            background-color: var(--background-color);
        }
    </style>
</head>
<body>
    <header class="app-header" style="display: flex; justify-content: space-between; align-items: center;">
        <div class="logo">
            <svg width="28" height="28" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>
            TalentFlow
        </div>
        <div class="theme-switcher">
            <button id="theme-btn" title="Change theme"><i data-lucide="palette"></i></button>
            <div id="theme-dropdown">
                <div class="theme-option" data-theme-value="ocean"><span class="theme-swatch" style="background-color: #0891B2;"></span> Ocean</div>
                <div class="theme-option" data-theme-value="dark"><span class="theme-swatch" style="background-color: #1F2937;"></span> Dark</div>
            </div>
        </div>
    </header>

    <main class="page-container">

        <div class="progress-indicator">
            <p class="progress-text" id="progress-text">Step 1 of 4: Account</p>
            <div class="progress-bar">
                <div class="progress-bar-inner" id="progress-bar-inner"></div>
            </div>
        </div>

        <form id="multi-step-form">
            <!-- Step 1: Account Creation -->
            <section id="step1-account" class="page active">
                <h1 class="page-title">Create Your Profile</h1>
                <div class="form-group">
                    <label for="email">Email Address</label>
                    <input type="email" id="email" required>
                </div>
                <div class="form-group password-group">
                    <label for="password">Create Password</label>
                    <input type="password" id="password" required>
                    <button type="button" class="password-toggle" data-target="password"><i data-lucide="eye"></i></button>
                </div>
                <div class="form-group password-group">
                    <label for="confirm-password">Confirm Password</label>
                    <input type="password" id="confirm-password" required>
                    <button type="button" class="password-toggle" data-target="confirm-password"><i data-lucide="eye-off"></i></button>
                </div>
                <div class="action-buttons">
                    <span></span> <!-- Spacer -->
                    <button type="button" class="btn btn-primary next-btn">Next: Personal Details</button>
                </div>
            </section>

            <!-- Step 2: Personal & Contact Details -->
            <section id="step2-details" class="page">
                <h1 class="page-title">Personal & Contact Details</h1>
                <div class="form-group">
                    <label for="first-name">First Name</label>
                    <input type="text" id="first-name" required>
                </div>
                <div class="form-group">
                    <label for="last-name">Last Name</label>
                    <input type="text" id="last-name" required>
                </div>
                <div class="form-group">
                    <label for="phone">Phone Number</label>
                    <input type="tel" id="phone" required>
                </div>
                <div class="form-group">
                    <label for="country">Country</label>
                    <select id="country" required>
                        <option value="">Select a country...</option>
                        <option value="USA">United States</option>
                        <option value="CAN">Canada</option>
                        <option value="GBR">United Kingdom</option>
                        <option value="AUS">Australia</option>
                        <!-- Add more countries as needed -->
                    </select>
                </div>
                <div class="form-group">
                    <label for="address">Address</label>
                    <textarea id="address" rows="3"></textarea>
                </div>
                <div class="form-group">
                    <label for="linkedin">LinkedIn Profile URL (Optional)</label>
                    <input type="url" id="linkedin">
                </div>
                <div class="action-buttons">
                    <button type="button" class="btn-back back-btn">Back</button>
                    <button type="button" class="btn btn-primary next-btn">Next: Professional Experience</button>
                </div>
            </section>

            <!-- Step 3: Professional Experience -->
            <section id="step3-experience" class="page">
                <h1 class="page-title">Professional Experience</h1>
                <div class="form-group">
                    <label for="employment-status">Employment Status</label>
                    <select id="employment-status" required>
                        <option value="">Select status...</option>
                        <option value="working">I am currently working</option>
                        <option value="fresher">I am a recent graduate (Fresher)</option>
                        <option value="break">I am on a career break</option>
                    </select>
                </div>
                <div id="conditional-fields-working" class="conditional-fields">
                    <div class="form-group">
                        <label for="current-company">Current Company Name</label>
                        <input type="text" id="current-company">
                    </div>
                    <div class="form-group">
                        <label for="current-title">Current Job Title</label>
                        <input type="text" id="current-title">
                    </div>
                </div>
                <div class="form-group">
                    <label for="total-experience">Total Years of Experience</label>
                    <input type="number" id="total-experience" required min="0">
                </div>
                <div class="action-buttons">
                    <button type="button" class="btn-back back-btn">Back</button>
                    <button type="button" class="btn btn-primary next-btn">Next: Upload Resume</button>
                </div>
            </section>

            <!-- Step 4: Resume & Final Review -->
            <section id="step4-review" class="page">
                <h1 class="page-title">Resume & Final Review</h1>
                <div class="resume-upload-area" id="resume-drop-area">
                    <input type="file" id="resume-file-input" hidden accept=".pdf,.doc,.docx,.txt">
                    <p>Drag & drop your resume here, or <span class="browse-link">browse files</span></p>
                    <p id="resume-file-name"></p>
                </div>

                <div class="review-summary">
                    <div class="review-sub-section">
                        <h3>Account</h3>
                        <div class="review-item">
                            <span class="label">Email</span>
                            <div class="value-group">
                                <span class="value" id="review-email"></span>
                                <a href="#" class="edit-link" data-step="0">Edit</a>
                            </div>
                        </div>
                    </div>
                    <div class="review-sub-section">
                        <h3>Personal Details</h3>
                        <div class="review-item">
                            <span class="label">Name</span>
                             <div class="value-group">
                                <span class="value" id="review-name"></span>
                                <a href="#" class="edit-link" data-step="1">Edit</a>
                            </div>
                        </div>
                        <div class="review-item">
                            <span class="label">Phone</span>
                             <div class="value-group">
                                <span class="value" id="review-phone"></span>
                                <a href="#" class="edit-link" data-step="1">Edit</a>
                            </div>
                        </div>
                        <div class="review-item">
                            <span class="label">Country</span>
                             <div class="value-group">
                                <span class="value" id="review-country"></span>
                                <a href="#" class="edit-link" data-step="1">Edit</a>
                            </div>
                        </div>
                         <div class="review-item">
                            <span class="label">Address</span>
                             <div class="value-group">
                                <span class="value" id="review-address"></span>
                                <a href="#" class="edit-link" data-step="1">Edit</a>
                            </div>
                        </div>
                        <div class="review-item">
                            <span class="label">LinkedIn</span>
                             <div class="value-group">
                                <span class="value" id="review-linkedin"></span>
                                <a href="#" class="edit-link" data-step="1">Edit</a>
                            </div>
                        </div>
                    </div>
                    <div class="review-sub-section">
                        <h3>Experience</h3>
                        <div class="review-item">
                            <span class="label">Employment Status</span>
                            <div class="value-group">
                                <span class="value" id="review-employment-status"></span>
                                <a href="#" class="edit-link" data-step="2">Edit</a>
                            </div>
                        </div>
                        <div class="review-item" id="review-item-company">
                            <span class="label">Current Company</span>
                             <div class="value-group">
                                <span class="value" id="review-current-company"></span>
                                <a href="#" class="edit-link" data-step="2">Edit</a>
                            </div>
                        </div>
                        <div class="review-item" id="review-item-title">
                            <span class="label">Current Title</span>
                             <div class="value-group">
                                <span class="value" id="review-current-title"></span>
                                <a href="#" class="edit-link" data-step="2">Edit</a>
                            </div>
                        </div>
                        <div class="review-item">
                            <span class="label">Total Experience</span>
                             <div class="value-group">
                                <span class="value" id="review-total-experience"></span>
                                <a href="#" class="edit-link" data-step="2">Edit</a>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="action-buttons">
                    <button type="button" class="btn-back back-btn">Back</button>
                    <button type="submit" class="btn btn-primary">Submit Application</button>
                </div>
            </section>
        </form>

        <!-- Confirmation Message (Initially Hidden) -->
        <section id="confirmation-page" style="display: none; text-align: center;">
             <h1 class="page-title">Application Submitted!</h1>
             <p>Thank you for applying. We will review your application and get back to you soon.</p>
        </section>

        <!-- Submission Confirmation Modal -->
        <div id="submission-modal" class="modal-overlay" style="display: none;">
            <div class="modal-content">
                <h2 class="modal-title">Submit Your Application?</h2>
                <p>You are about to submit your application for the Senior Python Developer role. You will not be able to make any changes after this.</p>
                <div class="modal-actions">
                    <button id="cancel-submission-btn" class="btn btn-secondary">Cancel</button>
                    <button id="confirm-submission-btn" class="btn btn-primary">Yes, Submit Application</button>
                </div>
            </div>
        </div>
    </main>

    <footer class="app-footer">
        <a href="#">Privacy Policy</a> &bull; <a href="#">Terms of Service</a><br>
        Powered by TalentFlow
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            lucide.createIcons();

            const multiStepForm = document.getElementById('multi-step-form');
            const pages = multiStepForm.querySelectorAll('.page');
            const nextBtns = multiStepForm.querySelectorAll('.next-btn');
            const backBtns = multiStepForm.querySelectorAll('.back-btn');
            const progressText = document.getElementById('progress-text');
            const progressBarInner = document.getElementById('progress-bar-inner');

            let currentPage = 0;
            const progressSteps = [
                { text: "Step 1 of 4: Account", width: "25%" },
                { text: "Step 2 of 4: Your Details", width: "50%" },
                { text: "Step 3 of 4: Experience", width: "75%" },
                { text: "Step 4 of 4: Final Review", width: "100%" }
            ];

            const updateProgress = () => {
                progressText.textContent = progressSteps[currentPage].text;
                progressBarInner.style.width = progressSteps[currentPage].width;
            };

            const showPage = (pageIndex) => {
                pages.forEach((page, index) => {
                    page.classList.toggle('active', index === pageIndex);
                });
                currentPage = pageIndex;
                updateProgress();

                // Populate review data when showing the final step
                if (pageIndex === 3) {
                    populateReviewData();
                }
            };

            nextBtns.forEach(button => {
                button.addEventListener('click', () => {
                    if (currentPage < pages.length - 1) {
                        // Add validation logic here if needed
                        showPage(currentPage + 1);
                    }
                });
            });

            backBtns.forEach(button => {
                button.addEventListener('click', () => {
                    if (currentPage > 0) {
                        showPage(currentPage - 1);
                    }
                });
            });

            // Initial setup
            showPage(0);

            // --- THEME SWITCHER LOGIC ---
            const themeBtn = document.getElementById('theme-btn');
            const themeDropdown = document.getElementById('theme-dropdown');
            const themeOptions = document.querySelectorAll('.theme-option');
            function setTheme(theme) {
                document.body.dataset.theme = theme;
                localStorage.setItem('talentflow-theme', theme);
            }
            themeBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                themeDropdown.classList.toggle('show');
            });
            themeOptions.forEach(option => {
                option.addEventListener('click', () => {
                    setTheme(option.dataset.themeValue);
                });
            });
            window.addEventListener('click', () => themeDropdown.classList.remove('show'));
            const savedTheme = localStorage.getItem('talentflow-theme') || 'ocean';
            setTheme(savedTheme);

            // --- Form Data and Validation ---
            let formData = { resumeFile: null };

            const populateReviewData = () => {
                // Collect data from all forms
                formData.email = document.getElementById('email').value;
                formData.firstName = document.getElementById('first-name').value;
                formData.lastName = document.getElementById('last-name').value;
                formData.phone = document.getElementById('phone').value;
                const countrySelect = document.getElementById('country');
                formData.country = countrySelect.options[countrySelect.selectedIndex].text;
                formData.address = document.getElementById('address').value;
                formData.linkedin = document.getElementById('linkedin').value;
                const employmentStatusSelect = document.getElementById('employment-status');
                formData.employmentStatus = employmentStatusSelect.options[employmentStatusSelect.selectedIndex].text;
                formData.currentCompany = document.getElementById('current-company').value;
                formData.currentTitle = document.getElementById('current-title').value;
                formData.totalExperience = document.getElementById('total-experience').value;

                // Populate review screen
                document.getElementById('review-email').textContent = formData.email || 'N/A';
                document.getElementById('review-name').textContent = `${formData.firstName} ${formData.lastName}`;
                document.getElementById('review-phone').textContent = formData.phone || 'N/A';
                document.getElementById('review-country').textContent = formData.country || 'N/A';
                document.getElementById('review-address').textContent = formData.address || 'N/A';
                document.getElementById('review-linkedin').textContent = formData.linkedin || 'N/A';
                document.getElementById('review-employment-status').textContent = formData.employmentStatus || 'N/A';
                document.getElementById('review-current-company').textContent = formData.currentCompany || 'N/A';
                document.getElementById('review-current-title').textContent = formData.currentTitle || 'N/A';
                document.getElementById('review-total-experience').textContent = `${formData.totalExperience} years` || 'N/A';

                // Hide conditional review fields if not applicable
                const isWorking = document.getElementById('employment-status').value === 'working';
                document.getElementById('review-item-company').style.display = isWorking ? 'flex' : 'none';
                document.getElementById('review-item-title').style.display = isWorking ? 'flex' : 'none';
            };

            const submissionModal = document.getElementById('submission-modal');
            const confirmSubmissionBtn = document.getElementById('confirm-submission-btn');
            const cancelSubmissionBtn = document.getElementById('cancel-submission-btn');

            multiStepForm.addEventListener('submit', (e) => {
                e.preventDefault();
                // Instead of submitting, show the modal
                submissionModal.style.display = 'flex';
            });

            cancelSubmissionBtn.addEventListener('click', () => {
                submissionModal.style.display = 'none';
            });

            confirmSubmissionBtn.addEventListener('click', () => {
                // Perform the actual submission
                console.log('Final Application Data:', formData);
                submissionModal.style.display = 'none';
                multiStepForm.style.display = 'none';
                document.getElementById('confirmation-page').style.display = 'block';
                document.querySelector('.progress-indicator').style.display = 'none';
            });

            // --- Edit Links ---
            document.querySelectorAll('.edit-link').forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const step = parseInt(e.target.dataset.step, 10);
                    showPage(step);
                });
            });

            // --- Specific Field Logic ---

            // Password visibility toggle
            document.querySelectorAll('.password-toggle').forEach(button => {
                button.addEventListener('click', () => {
                    const targetId = button.dataset.target;
                    const passwordInput = document.getElementById(targetId);
                    const icon = button.querySelector('i');
                    if (passwordInput.type === 'password') {
                        passwordInput.type = 'text';
                        icon.setAttribute('data-lucide', 'eye-off');
                    } else {
                        passwordInput.type = 'password';
                        icon.setAttribute('data-lucide', 'eye');
                    }
                    lucide.createIcons(); // Re-render icons
                });
            });

            // Conditional fields for employment status
            const employmentStatus = document.getElementById('employment-status');
            const conditionalFields = document.getElementById('conditional-fields-working');
            employmentStatus.addEventListener('change', () => {
                if (employmentStatus.value === 'working') {
                    conditionalFields.style.display = 'block';
                    document.getElementById('current-company').required = true;
                    document.getElementById('current-title').required = true;
                } else {
                    conditionalFields.style.display = 'none';
                    document.getElementById('current-company').required = false;
                    document.getElementById('current-title').required = false;
                }
            });

            // Resume upload
            const dropArea = document.getElementById('resume-drop-area');
            const fileInput = document.getElementById('resume-file-input');
            const fileNameEl = document.getElementById('resume-file-name');
            const browseLink = dropArea.querySelector('.browse-link');

            dropArea.addEventListener('click', () => fileInput.click());
            browseLink.addEventListener('click', (e) => {
                e.stopPropagation(); // prevent dropArea click from firing again
                fileInput.click();
            });
            fileInput.addEventListener('change', () => handleFiles(fileInput.files));

            ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
                dropArea.addEventListener(eventName, (e) => { e.preventDefault(); e.stopPropagation(); }, false);
            });
            ['dragenter', 'dragover'].forEach(eventName => {
                dropArea.addEventListener(eventName, () => dropArea.classList.add('dragover'), false);
            });
            ['dragleave', 'drop'].forEach(eventName => {
                dropArea.addEventListener(eventName, () => dropArea.classList.remove('dragover'), false);
            });
            dropArea.addEventListener('drop', (e) => handleFiles(e.dataTransfer.files), false);

            const handleFiles = (files) => {
                if (files.length > 0) {
                    formData.resumeFile = files[0];
                    fileNameEl.textContent = `File attached: ${formData.resumeFile.name}`;
                }
            };
        });
    </script>
</body>
</html>
